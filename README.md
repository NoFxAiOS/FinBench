# FinBench

**é‡‘èæŠ€æœ¯æŒ‡æ ‡è®¡ç®—èƒ½åŠ›å¤§æ¨¡å‹è¯„æµ‹åŸºå‡†**

FinBench æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ LLM è¯„æµ‹å·¥å…·ï¼Œç”¨äºè¯„ä¼°å¤§è¯­è¨€æ¨¡å‹åœ¨é‡‘èæŠ€æœ¯æŒ‡æ ‡è®¡ç®—æ–¹é¢çš„èƒ½åŠ›ã€‚é€šè¿‡æ ‡å‡†åŒ–çš„è¯„æµ‹æµç¨‹ï¼Œä¸º AI é‡åŒ–äº¤æ˜“ç³»ç»Ÿæä¾›æ¨¡å‹é€‰å‹ä¾æ®ã€‚

## ç‰¹æ€§

- **å¤šæ¨¡å‹æ”¯æŒ** - æ”¯æŒ 7 å¤§ä¸»æµ LLM æä¾›å•†
- **10 é¡¹æŒ‡æ ‡è¯„æµ‹** - è¦†ç›–å¸¸ç”¨æŠ€æœ¯åˆ†ææŒ‡æ ‡
- **ç»Ÿè®¡åˆ†æ** - å¤šæ¬¡è¿è¡Œè·å–ç¨³å®šæ€§æ•°æ®
- **å¯è§†åŒ–æŠ¥å‘Š** - ç”Ÿæˆä¸“ä¸š HTML å›¾è¡¨æŠ¥å‘Š
- **å¯å¤ç°æ€§** - æ”¯æŒé™æ€æ•°æ®é›†æ¨¡å¼

## æ”¯æŒçš„æ¨¡å‹

| Provider | æ¨¡å‹ | API ç«¯ç‚¹ |
|----------|------|----------|
| DeepSeek | deepseek-chat | api.deepseek.com |
| Qwen | qwen3-max | dashscope.aliyuncs.com |
| OpenAI | gpt-5.2 | api.openai.com |
| Claude | claude-opus-4-5-20251101 | api.anthropic.com |
| Gemini | gemini-3-pro-preview | generativelanguage.googleapis.com |
| Grok | grok-3-latest | api.x.ai |
| Kimi | moonshot-v1-auto | api.moonshot.ai |

## è¯„æµ‹æŒ‡æ ‡

| æŒ‡æ ‡ | è¯´æ˜ | è¯„åˆ†é˜ˆå€¼ |
|------|------|----------|
| MA20 | 20å‘¨æœŸç®€å•ç§»åŠ¨å¹³å‡ | â‰¤0.1% æ»¡åˆ† |
| EMA12 | 12å‘¨æœŸæŒ‡æ•°ç§»åŠ¨å¹³å‡ | â‰¤0.1% æ»¡åˆ† |
| EMA26 | 26å‘¨æœŸæŒ‡æ•°ç§»åŠ¨å¹³å‡ | â‰¤0.1% æ»¡åˆ† |
| MACD | EMA12 - EMA26 | â‰¤0.5% æ»¡åˆ† |
| RSI14 | 14å‘¨æœŸç›¸å¯¹å¼ºå¼±æŒ‡æ•° | â‰¤1% æ»¡åˆ† |
| BOLL | å¸ƒæ—å¸¦ (ä¸Š/ä¸­/ä¸‹è½¨) | â‰¤0.1% æ»¡åˆ† |
| ATR14 | 14å‘¨æœŸå¹³å‡çœŸå®æ³¢å¹… | â‰¤1% æ»¡åˆ† |
| VolumeMA5 | 5å‘¨æœŸæˆäº¤é‡å‡å€¼ | â‰¤0.1% æ»¡åˆ† |

### è¯„åˆ†è§„åˆ™

| è¯¯å·®èŒƒå›´ | å¾—åˆ† |
|----------|------|
| â‰¤ 0.1% | 100 |
| 0.1% - 1% | 80 |
| 1% - 5% | 60 |
| 5% - 10% | 40 |
| > 10% | 0 |

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
git clone https://github.com/NoFxAiOS/FinBench.git
cd FinBench
go build -o finbench ./cmd/finbench
```

### é…ç½®

å¤åˆ¶é…ç½®æ¨¡æ¿å¹¶å¡«å…¥ API Keysï¼š

```bash
cp config.template.json config.json
```

ç¼–è¾‘ `config.json`ï¼š

```json
{
  "models": [
    {
      "name": "DeepSeek-Chat",
      "provider": "deepseek",
      "model": "deepseek-chat",
      "api_key": "your-api-key-here"
    }
  ]
}
```

### è¿è¡Œè¯„æµ‹

```bash
# æ ‡å‡†è¯„æµ‹ (10æ¬¡è¿è¡Œ)
./finbench run -config=config.json -symbols=BTCUSDT -runs=10 -output=report.json

# å¿«é€Ÿè¯„æµ‹ (3æ¬¡è¿è¡Œ)
./finbench run -config=config.json -symbols=BTCUSDT -runs=3

# å¤šäº¤æ˜“å¯¹è¯„æµ‹
./finbench run -config=config.json -symbols=BTCUSDT,ETHUSDT -runs=10

# ä½¿ç”¨é™æ€æ•°æ®é›† (å¯å¤ç°)
./finbench run -mode=static -dataset=datasets/snapshots -config=config.json
```

### ç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Š

```bash
python3 scripts/generate_report.py report.json finbench_report.html
open finbench_report.html
```

## å‘½ä»¤å‚è€ƒ

```bash
# æŸ¥çœ‹æ”¯æŒçš„æ¨¡å‹
./finbench models

# æ•è·å¸‚åœºæ•°æ®å¿«ç…§
./finbench snapshot -symbols=BTCUSDT,ETHUSDT -output=datasets/snapshots

# æŸ¥çœ‹å¸®åŠ©
./finbench help
```

### Run å‘½ä»¤å‚æ•°

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `-config` | é…ç½®æ–‡ä»¶è·¯å¾„ | å¿…å¡« |
| `-mode` | è¯„æµ‹æ¨¡å¼ (realtime/static) | realtime |
| `-symbols` | äº¤æ˜“å¯¹ (é€—å·åˆ†éš”) | BTCUSDT |
| `-interval` | Kçº¿å‘¨æœŸ | 1h |
| `-klines` | Kçº¿æ•°é‡ | 50 |
| `-runs` | æ¯æ¨¡å‹è¿è¡Œæ¬¡æ•° | 1 |
| `-output` | è¾“å‡ºæŠ¥å‘Šè·¯å¾„ | - |

## æŠ¥å‘Šç¤ºä¾‹

HTML æŠ¥å‘ŠåŒ…å«ï¼š

- ğŸ† **æ’è¡Œæ¦œ** - æ¨¡å‹ç»¼åˆæ’å
- ğŸ“Š **å¾—åˆ†æŸ±çŠ¶å›¾** - ç›´è§‚å¯¹æ¯”
- ğŸ¯ **é›·è¾¾å›¾** - å„æŒ‡æ ‡èƒ½åŠ›åˆ†æ
- ğŸ”¥ **çƒ­åŠ›å›¾** - æŒ‡æ ‡å¾—åˆ†çŸ©é˜µ
- ğŸ“ˆ **å»¶è¿Ÿå¯¹æ¯”** - å“åº”é€Ÿåº¦åˆ†æ
- ğŸ“‹ **è¯¦ç»†å¡ç‰‡** - æ¯æ¨¡å‹ç»Ÿè®¡æ•°æ®

## è¯„æµ‹åŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ç»Ÿä¸€æ•°æ®æº (Kçº¿)               â”‚
â”‚      CoinAnk API / é™æ€å¿«ç…§              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æœ¬åœ°è®¡ç®—     â”‚   â”‚   LLM è®¡ç®—    â”‚
â”‚  (æ ‡å‡†ç­”æ¡ˆ)    â”‚   â”‚  (å¾…è¯„æµ‹)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     å¯¹æ¯”è¯„åˆ†       â”‚
        â”‚   è¯¯å·® â†’ å¾—åˆ†      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## é¡¹ç›®ç»“æ„

```
FinBench/
â”œâ”€â”€ cmd/finbench/       # CLI å…¥å£
â”œâ”€â”€ benchmark/          # è¯„æµ‹å¼•æ“
â”‚   â”œâ”€â”€ engine.go       # ä¸»å¼•æ“
â”‚   â”œâ”€â”€ llm.go          # LLM å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ models.go       # æ¨¡å‹é…ç½®
â”‚   â”œâ”€â”€ scorer.go       # è¯„åˆ†é€»è¾‘
â”‚   â””â”€â”€ calculator.go   # æŒ‡æ ‡è®¡ç®—
â”œâ”€â”€ market/             # å¸‚åœºæ•°æ®
â”‚   â”œâ”€â”€ kline.go        # Kçº¿è·å–
â”‚   â””â”€â”€ indicators.go   # æŒ‡æ ‡å®ç°
â”œâ”€â”€ provider/           # æ•°æ®æä¾›å•†
â”‚   â””â”€â”€ coinank/        # CoinAnk API
â”œâ”€â”€ scripts/            # å·¥å…·è„šæœ¬
â”‚   â””â”€â”€ generate_report.py  # æŠ¥å‘Šç”Ÿæˆå™¨
â”œâ”€â”€ datasets/           # æ•°æ®é›†
â”‚   â””â”€â”€ snapshots/      # å¿«ç…§æ•°æ®
â””â”€â”€ docs/               # æ–‡æ¡£
```

## å®‰å…¨è¯´æ˜

âš ï¸ **è¯·å‹¿æäº¤å«æœ‰ API Key çš„æ–‡ä»¶**

ä»¥ä¸‹æ–‡ä»¶å·²è¢« `.gitignore` å¿½ç•¥ï¼š
- `config.json` / `config*.json` (é™¤ template)
- `*_report.json` / `report.json`
- `finbench_report.html`

## è®¸å¯è¯

MIT License

## ç›¸å…³é¡¹ç›®

- [nofx](https://github.com/NoFxAiOS/nofx) - AI é‡åŒ–äº¤æ˜“ç³»ç»Ÿ
